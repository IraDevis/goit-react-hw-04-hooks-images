{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","Services/ImagesAPI.js","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","styles","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","value","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","currentTarget","ImageGalleryItem","image","onClick","handleClick","largeImageURL","src","webformatURL","srsset","alt","tags","ImageGalleryItemImage","ImageGallery","images","map","id","Button","length","useEffect","window","scrollTo","top","document","documentElement","scrollHeight","behavior","defaultProps","Loader","color","height","width","timeout","Modal","onClose","onEscKeyPress","code","addEventListener","removeEventListener","Overlay","target","fetchImages","page","axios","get","then","response","data","hits","App","state","modalImage","loader","showModal","error","changeSearch","query","setState","getImages","prevState","catch","finally","toggleModal","openModalImage","img","prevProps","this","renderLoadButton","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ade123a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1jtiM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1LTuI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__109KX\",\"SearchForm\":\"Searchbar_SearchForm__1K8N3\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2nBaM\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__ftrzy\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2l5vc\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2_2Gi\"};","// import { Component } from \"react\";\nimport { useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Searchbar.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleChange = (e) => {\n    setSearchQuery(e.currentTarget.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onSubmit(searchQuery);\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          value={searchQuery}\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\n// class Searchbar extends Component {\n// static propTypes = {\n//   onSubmit: PropTypes.func.isRequired,\n// };\n\n//   state = {\n//     searchQuery: \"\",\n//   };\n\n// handleChange = (e) => {\n//   this.setState({ searchQuery: e.currentTarget.value });\n// };\n\n// handleSubmit = (e) => {\n//   e.preventDefault();\n\n//   this.props.onSubmit(this.state.searchQuery);\n//   this.setState({ searchQuery: \"\" });\n// };\n\n//   render() {\n// return (\n//   <header className={styles.Searchbar}>\n//     <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n//       <button type=\"submit\" className={styles.SearchFormButton}>\n//         <span className={styles.SearchFormButtonLabel}>Search</span>\n//       </button>\n//       <input\n//         value={this.state.searchQuery}\n//         className={styles.SearchFormInput}\n//         type=\"text\"\n//         autoComplete=\"off\"\n//         autoFocus\n//         placeholder=\"Search images and photos\"\n//         onChange={this.handleChange}\n//       />\n//     </form>\n//   </header>\n// );\n//   }\n// }\n\n// export default Searchbar;\n","// import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ image, onClick }) {\n  const handleClick = (largeImageURL) => {\n    onClick(largeImageURL);\n  };\n\n  return (\n    <li key=\"id\" className={styles.ImageGalleryItem}>\n      <img\n        src={image.webformatURL}\n        srsset={image.largeImageURL}\n        alt={image.tags}\n        className={styles.ImageGalleryItemImage}\n        onClick={() => handleClick(image.largeImageURL)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\n// class ImageGalleryItem extends Component {\n//   static propTypes = {\n//     onClick: PropTypes.func.isRequired,\n//   };\n\n//   handleClick = (largeImageURL) => {\n//     this.props.onClick(largeImageURL);\n//   };\n\n//   render() {\n//     const { image } = this.props;\n\n//     return (\n//       <li key=\"id\" className={styles.ImageGalleryItem}>\n//         <img\n//           src={image.webformatURL}\n//           srsset={image.largeImageURL}\n//           alt={image.tags}\n//           className={styles.ImageGalleryItemImage}\n//           onClick={() => this.handleClick(image.largeImageURL)}\n//         />\n//       </li>\n//     );\n//   }\n// }\n\n// export default ImageGalleryItem;\n","// import { Component } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./ImageGallery.module.css\";\n\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map((image) => (\n        <ImageGalleryItem key={image.id} onClick={onClick} image={image} />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\n// class ImageGallery extends Component {\n//   static propTypes = {\n//     onClick: PropTypes.func.isRequired,\n//   };\n\n//   render() {\n//     const { images, onClick } = this.props;\n\n//     return (\n//       <ul className={styles.ImageGallery}>\n//         {images.map((image) => (\n//           <ImageGalleryItem key={image.id} onClick={onClick} image={image} />\n//         ))}\n//       </ul>\n//     );\n//   }\n// }\n\n// export default ImageGallery;\n","// import { Component } from \"react\";\nimport { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Button.module.css\";\n\nexport default function Button({ onClick, length }) {\n  useEffect(() => {\n    if (length > 0) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }, [length]);\n\n  return (\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  length: PropTypes.number,\n};\n\nButton.defaultProps = {\n  length: 1,\n};\n\n// class Button extends Component {\n//   static defaultProps = {\n//     length: 1,\n//   };\n\n//   static propTypes = {\n//     onClick: PropTypes.func.isRequired,\n//     length: PropTypes.number,\n//   };\n\n//   componentDidMount() {\n//     if (this.props.length > 0) {\n//       window.scrollTo({\n//         top: document.documentElement.scrollHeight,\n//         behavior: \"smooth\",\n//       });\n//     }\n//   }\n\n//   render() {\n//     return (\n//       <button\n//         type=\"button\"\n//         className={styles.Button}\n//         onClick={this.props.onClick}\n//       >\n//         Load more\n//       </button>\n//     );\n//   }\n// }\n\n// export default Button;\n","// import { Component } from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Spinner from \"react-loader-spinner\";\n\nexport default function Loader() {\n  return (\n    <Spinner\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000}\n      className=\"Loader\"\n    />\n  );\n}\n\n// class Loader extends Component {\n//   render() {\n// return (\n//   <Spinner\n//     type=\"Puff\"\n//     color=\"#00BFFF\"\n//     height={100}\n//     width={100}\n//     timeout={3000}\n//     className=\"Loader\"\n//   />\n// );\n//   }\n// }\n\n// export default Loader;\n","// import { Component } from \"react\";\nimport { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Modal.module.css\";\n\nexport default function Modal({ image, onClose }) {\n  useEffect(() => {\n    const onEscKeyPress = (e) => {\n      if (e.code === \"Escape\") {\n        onClose();\n      }\n    };\n    window.addEventListener(\"keydown\", onEscKeyPress);\n    return () => {\n      window.removeEventListener(\"keydown\", onEscKeyPress);\n    };\n  }, [onClose]);\n\n  const onOverlayClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n  return (\n    <div className={styles.Overlay} onClick={onOverlayClick}>\n      <div className={styles.Modal}>\n        <img src={image} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\n// class Modal extends Component {\n//   static propTypes = {\n//     onClose: PropTypes.func.isRequired,\n//   };\n\n//   componentDidMount() {\n//     window.addEventListener(\"keydown\", this.onEscKeyPress);\n//   }\n\n//   componentWillUnmount() {\n//     window.removeEventListener(\"keydown\", this.onEscKeyPress);\n//   }\n\n//   onEscKeyPress = (e) => {\n//     if (e.code === \"Escape\") {\n//       this.props.onClose();\n//     }\n//   };\n\n//   onOverlayClick = (e) => {\n//     if (e.currentTarget === e.target) {\n//       this.props.onClose();\n//     }\n//   };\n\n//   render() {\n//     return (\n//       <div className={styles.Overlay} onClick={this.onOverlayClick}>\n//         <div className={styles.Modal}>\n//           <img src={this.props.image} alt=\"\" />\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// export default Modal;\n","import axios from \"axios\";\nconst API_KEY = \"21850278-bca2574dc72e96cdde1e95c4f\";\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst PER_PAGE = 12;\n\nfunction fetchImages(searchQuery, page) {\n  return axios\n    .get(\n      `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=${PER_PAGE}&key=${API_KEY}`\n    )\n    .then((response) => response.data.hits);\n}\n\nexport default fetchImages;\n","import { Component } from \"react\";\n// import { useState, useEffect, useRef } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\n\nimport fetchImages from \"./Services/ImagesAPI\";\n\nimport \"modern-normalize\";\nimport \"./styles.css\";\n\n// export default function App() {\n//   const [searchQuery, setSearchQuery] = useState('');\n//   const [images, setImages] = useState({});\n//   const [modalImage, setModalImage] = useState('');\n//   const [page, setPage] = useState(1);\n//   const [loader, setLoader] = useState(false);\n//   const [error, setError] = useState('');\n//   const isFirstRender = useRef(true);\n\n//   return (\n//       <>\n//         <Searchbar onSubmit={changeSearch} />\n\n//         <ImageGallery images={images} onClick={openModalImage} />\n\n//         {loader && <Loader />}\n\n//         {renderLoadButton && (\n//           <Button onClick={getImages} length={images.length} />\n//         )}\n\n//         {showModal && <Modal onClose={toggleModal} image={modalImage} />}\n//       </>\n//     );\n//  }\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    images: [],\n    modalImage: \"\",\n    page: 1,\n    loader: false,\n    showModal: false,\n    error: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.getImages();\n    }\n  }\n\n  changeSearch = (query) => {\n    if (query === this.state.searchQuery) {\n      return;\n    }\n    this.setState({\n      searchQuery: query,\n      images: [],\n      page: 1,\n      error: \"\",\n    });\n  };\n\n  getImages = () => {\n    const { page, searchQuery } = this.state;\n\n    this.setState({ loader: true });\n\n    fetchImages(searchQuery, page)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loader: false }));\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  openModalImage = (img) => {\n    this.setState({\n      modalImage: img,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, loader, showModal, modalImage } = this.state;\n    const { changeSearch, openModalImage, getImages, toggleModal } = this;\n    const renderLoadButton = images.length >= 12 && !loader;\n\n    return (\n      <>\n        <Searchbar onSubmit={changeSearch} />\n\n        <ImageGallery images={images} onClick={openModalImage} />\n\n        {loader && <Loader />}\n\n        {renderLoadButton && (\n          <Button onClick={getImages} length={images.length} />\n        )}\n\n        {showModal && <Modal onClose={toggleModal} image={modalImage} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__sWRZ0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__20_UD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3b7Lh\",\"Modal\":\"Modal_Modal__1PNXx\"};"],"sourceRoot":""}